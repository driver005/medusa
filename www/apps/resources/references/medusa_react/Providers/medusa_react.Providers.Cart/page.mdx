---
slug: /references/medusa-react/providers/cart
sidebar_label: Cart
---

import { TypeList } from "docs-ui"

# Cart  Provider Overview

## useCart

This hook exposes the context of [CartProvider](page.mdx#cartprovider).

The context provides helper functions and mutations for managing the cart and checkout. You can refer to the following guides for examples on how to use them:

- [How to Add Cart Functionality](https://docs.medusajs.com/modules/carts-and-checkout/storefront/implement-cart)
- [How to Implement Checkout Flow](https://docs.medusajs.com/modules/carts-and-checkout/storefront/implement-checkout-flow)

### Example

```tsx title="src/Cart.ts"
import * as React from "react"

import { useCart } from "medusa-react"

const Cart = () => {
  const handleClick = () => {
    createCart.mutate({}) // create an empty cart
  }

  const { cart, createCart } = useCart()

  return (
    <div>
      {createCart.isLoading && <div>Loading...</div>}
      {!cart?.id && (
        <button onClick={handleClick}>
          Create cart
        </button>
      )}
      {cart?.id && (
        <div>Cart ID: {cart.id}</div>
      )}
    </div>
  )
}

export default Cart
```

In the example above, you retrieve the `createCart` mutation and `cart` state object using the `useCart` hook. 
If the `cart` is not set, a button is shown. When the button is clicked, the `createCart` mutation is executed, which interacts with the backend and creates a new cart.

After the cart is created, the `cart` state variable is set and its ID is shown instead of the button.

:::note

The example above does not store in the browser the ID of the cart created, so the cart’s data will be gone on refresh. 
You would have to do that using the browser’s [Local Storage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage).

:::

### Returns

<TypeList types={[{"name":"setCart","type":"(`cart`: Omit&#60;Cart, \"refundable_amount\" \\| \"refunded_total\"&#62;) => `void`","description":"A state function used to set the cart object.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"pay","type":"UseMutationResult&#60;Response&#60;StoreCartsRes&#62;, Error, StorePostCartsCartPaymentSessionReq, unknown&#62;","description":"A mutation used to select a payment processor during checkout.\nUsing it is equivalent to using the [useSetPaymentSession](../../Hooks/Store/medusa_react.Hooks.Store.Carts/page.mdx#usesetpaymentsession) mutation.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"provider_id","type":"`string`","description":"The ID of the Payment Provider.","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"createCart","type":"UseMutationResult&#60;Response&#60;StoreCartsRes&#62;, Error, undefined \\| StorePostCartReq, unknown&#62;","description":"A mutation used to create a cart.\nUsing it is equivalent to using the [useCreateCart](../../Hooks/Store/medusa_react.Hooks.Store.Carts/page.mdx#usecreatecart) mutation.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"startCheckout","type":"UseMutationResult&#60;Response&#60;StoreCartsRes&#62;, Error, void, unknown&#62;","description":"A mutation used to initialize payment sessions during checkout.\nUsing it is equivalent to using the [useCreatePaymentSession](../../Hooks/Store/medusa_react.Hooks.Store.Carts/page.mdx#usecreatepaymentsession) mutation.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"completeCheckout","type":"UseMutationResult&#60;Response&#60;StoreCompleteCartRes&#62;, Error, void, unknown&#62;","description":"A mutation used to complete the cart and place the order.\nUsing it is equivalent to using the [useCompleteCart](../../Hooks/Store/medusa_react.Hooks.Store.Carts/page.mdx#usecompletecart) mutation.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updateCart","type":"UseMutationResult&#60;Response&#60;StoreCartsRes&#62;, Error, StorePostCartsCartReq, unknown&#62;","description":"A mutation used to update a cart’s details such as region, customer email, shipping address, and more.\nUsing it is equivalent to using the [useUpdateCart](../../Hooks/Store/medusa_react.Hooks.Store.Carts/page.mdx#useupdatecart) mutation.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"region_id","type":"`string`","description":"The ID of the Region to create the Cart in. Setting the cart's region can affect the pricing of the items in the cart as well as the used currency.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"country_code","type":"`string`","description":"The 2 character ISO country code to create the Cart in. Setting this parameter will set the country code of the shipping address.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"email","type":"`string`","description":"An email to be used on the Cart.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"billing_address","type":"`string` \\| [AddressPayload](../../../medusa/classes/medusa.AddressPayload/page.mdx)","description":"The Address to be used for billing purposes.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_address","type":"`string` \\| [AddressPayload](../../../medusa/classes/medusa.AddressPayload/page.mdx)","description":"The Address to be used for shipping purposes.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"gift_cards","type":"[GiftCard](../../../medusa/classes/medusa.GiftCard/page.mdx)[]","description":"An array of Gift Card codes to add to the Cart.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"code","type":"`string`","description":"The code of a gift card.","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"discounts","type":"[Discount](../../../medusa/classes/medusa.Discount-2/page.mdx)[]","description":"An array of Discount codes to add to the Cart.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"code","type":"`string`","description":"The code of the discount.","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"customer_id","type":"`string`","description":"The ID of the Customer to associate the Cart with.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"context","type":"`object`","description":"An object to provide context to the Cart. The `context` field is automatically populated with `ip` and `user\\_agent`","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"sales_channel_id","type":"`string`","description":"The ID of the Sales channel to create the Cart in. The cart's sales channel affects which products can be added to the cart. If a product does not exist in the cart's sales channel, it cannot be added to the cart. If you add a publishable API key in the header of this request and specify a sales channel ID, the specified sales channel must be within the scope of the publishable API key's resources.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"addShippingMethod","type":"UseMutationResult&#60;Response&#60;StoreCartsRes&#62;, Error, StorePostCartsCartShippingMethodReq, unknown&#62;","description":"A mutation used to add a shipping method to the cart during checkout.\nUsing it is equivalent to using the [useAddShippingMethodToCart](../../Hooks/Store/medusa_react.Hooks.Store.Carts/page.mdx#useaddshippingmethodtocart) mutation.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"option_id","type":"`string`","description":"ID of the shipping option to create the method from.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"data","type":"`Record<string, any>`","description":"Used to hold any data that the shipping method may need to process the fulfillment of the order. This depends on the fulfillment provider you're using.","optional":true,"defaultValue":"{}","expandable":false,"children":[]}]},{"name":"totalItems","type":"`number`","description":"The number of items in the cart.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"cart","type":"Omit&#60;Cart, \"refundable_amount\" \\| \"refunded_total\"&#62;","description":"The currently-used cart.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"region_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"customer_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"sales_channel_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"email","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"currency_code","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_address_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_address","type":"`null` \\| [Address](../../../cart_models/classes/cart_models.Address/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"billing_address_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"billing_address","type":"`null` \\| [Address](../../../cart_models/classes/cart_models.Address/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"items","type":"Collection&#60;[LineItem](../../../cart_models/classes/cart_models.LineItem/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"cart_id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"cart","type":"[Cart](../../../cart_models/classes/cart_models.Cart/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"title","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"subtitle","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"thumbnail","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"quantity","type":"`number`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"variant_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_title","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_description","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_subtitle","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_type","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_collection","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"product_handle","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"variant_sku","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"variant_barcode","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"variant_title","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"variant_option_values","type":"`null` \\| `Record<string, unknown>`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"requires_shipping","type":"`boolean`","description":"","optional":false,"defaultValue":"true","expandable":false,"children":[]},{"name":"is_discountable","type":"`boolean`","description":"","optional":false,"defaultValue":"true","expandable":false,"children":[]},{"name":"is_tax_inclusive","type":"`boolean`","description":"","optional":false,"defaultValue":"false","expandable":false,"children":[]},{"name":"raw_compare_at_unit_price","type":"`null` \\| [BigNumberRawValue](../../../types/types/types.BigNumberRawValue/page.mdx)","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"unit_price","type":"`number` \\| `BigNumber`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"raw_unit_price","type":"[BigNumberRawValue](../../../types/types/types.BigNumberRawValue/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"tax_lines","type":"Collection&#60;[LineItemTaxLine](../../../cart_models/classes/cart_models.LineItemTaxLine/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"adjustments","type":"Collection&#60;[LineItemAdjustment](../../../cart_models/classes/cart_models.LineItemAdjustment/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"[OptionalProps]","type":"`OptionalLineItemProps`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"compare_at_unit_price","type":"`null` \\| `number` \\| `BigNumber`","description":"","optional":true,"defaultValue":"null","expandable":false,"children":[]}]},{"name":"shipping_methods","type":"Collection&#60;[ShippingMethod](../../../cart_models/classes/cart_models.ShippingMethod/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"cart_id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"cart","type":"[Cart](../../../cart_models/classes/cart_models.Cart/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"description","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"amount","type":"`number` \\| `BigNumber`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"raw_amount","type":"[BigNumberRawValue](../../../types/types/types.BigNumberRawValue/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"is_tax_inclusive","type":"`boolean`","description":"","optional":false,"defaultValue":"false","expandable":false,"children":[]},{"name":"shipping_option_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"data","type":"`null` \\| `Record<string, unknown>`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"tax_lines","type":"Collection&#60;[ShippingMethodTaxLine](../../../cart_models/classes/cart_models.ShippingMethodTaxLine/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"adjustments","type":"Collection&#60;[ShippingMethodAdjustment](../../../cart_models/classes/cart_models.ShippingMethodAdjustment/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"[OptionalProps]","type":"`OptionalShippingMethodProps`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"created_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"[OptionalProps]","type":"`OptionalCartProps`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/medusa-react/overview#expanding-fields" sectionTitle="useCart"/>

___

## CartProvider

`CartProvider` makes use of some of the hooks already exposed by `medusa-react` to perform cart operations on the Medusa backend. 
You can use it to create a cart, start the checkout flow, authorize payment sessions, and so on.

It also manages one single global piece of state which represents a cart, exactly like the one created on your Medusa backend.

To use `CartProvider`, you first have to insert it somewhere in your component tree below the [MedusaProvider](../medusa_react.Providers.Medusa/page.mdx#medusaprovider). Then, in any of the child components, 
you can use the [useCart](page.mdx#usecart) hook exposed by `medusa-react` to get access to cart operations and data.

### Example

```tsx title="src/App.ts"
import { CartProvider, MedusaProvider } from "medusa-react"
import Storefront from "./Storefront"
import { QueryClient } from "@tanstack/react-query"
import React from "react"

const queryClient = new QueryClient()

function App() {
  return (
    <MedusaProvider
      queryClientProviderProps={{ client: queryClient }}
      baseUrl="http://localhost:9000"
    >
      <CartProvider>
        <Storefront />
      </CartProvider>
    </MedusaProvider>
  )
}

export default App
```

### Parameters

<TypeList types={[{"name":"param0","type":"[CartProps](../../interfaces/medusa_react.CartProps/page.mdx)","description":"Props of the provider.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"initialState","type":"Omit&#60;Cart, \"refundable_amount\" \\| \"refunded_total\"&#62;","description":"An optional initial value to be used for the cart.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"region_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"customer_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"sales_channel_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"email","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"currency_code","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_address_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_address","type":"`null` \\| [Address](../../../cart_models/classes/cart_models.Address/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"billing_address_id","type":"`null` \\| `string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"billing_address","type":"`null` \\| [Address](../../../cart_models/classes/cart_models.Address/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, unknown>`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"items","type":"Collection&#60;[LineItem](../../../cart_models/classes/cart_models.LineItem/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"shipping_methods","type":"Collection&#60;[ShippingMethod](../../../cart_models/classes/cart_models.ShippingMethod/page.mdx), object&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"","optional":false,"defaultValue":"null","expandable":false,"children":[]},{"name":"[OptionalProps]","type":"`OptionalCartProps`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/medusa-react/overview#expanding-fields" sectionTitle="CartProvider"/>

### Returns

<TypeList types={[{"name":"Element","type":"`Element`","optional":false,"defaultValue":"","description":"`CartProvider` makes use of some of the hooks already exposed by `medusa-react` to perform cart operations on the Medusa backend. \nYou can use it to create a cart, start the checkout flow, authorize payment sessions, and so on.\n\nIt also manages one single global piece of state which represents a cart, exactly like the one created on your Medusa backend.\n\nTo use `CartProvider`, you first have to insert it somewhere in your component tree below the [MedusaProvider](../medusa_react.Providers.Medusa/page.mdx#medusaprovider). Then, in any of the child components, \nyou can use the [useCart](page.mdx#usecart) hook exposed by `medusa-react` to get access to cart operations and data.","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/medusa-react/overview#expanding-fields" sectionTitle="CartProvider"/>
